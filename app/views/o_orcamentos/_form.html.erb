<%= render "shared/context_nav", title: t("activerecord.models.#{OOrcamento.model_name.i18n_key}.other") do  %>
  <span class="breadcrumb-item"><%= link_to t("activerecord.models.#{OOrcamento.model_name.i18n_key}.other"), o_orcamentos_path, class: "text-dark" %></span>
  <span class="breadcrumb-item active"><%= t("helpers.submit.#{params[:action]}") %></span>
<% end %>
<%= simple_form_for(@o_orcamento) do |f| %>
  <div class="card">
    <div class="card-header">
      <h5 class="my-0">
        <%= @o_orcamento.new_record? ? "Incluir " : "Editar " %><%= t("activerecord.models.#{OOrcamento.model_name.i18n_key}.one") %>
      </h5>
    </div>
    <div class="card-body">
      <%= f.error_notification %>
      <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
      <div class="row g-3">
        <div class="col-md-3">
          <%= f.input :user_id,
                      collection: User.all,
                      label_method: :nome,
                      value_method: :id,
                      prompt: "Selecione o usuário",
                      label: "Gestor" %>
        </div>
        <div class="col-md-3">
          <%= f.input :g_veiculo_id,
                      collection: GVeiculo.all,
                      label_method: :marca,
                      value_method: :id,
                      prompt: "Selecione o veículo",
                      label: "Veículo" %>
        </div>
        <div class="col-md-3">
          <%= f.input :g_centro_custo_id,
                      collection: GCentroCusto.all,
                      label_method: :nome,
                      value_method: :id,
                      prompt: "Selecione o centro de custo",
                      label: "Centro de Custo" %>
        </div>
        <div class="col-md-3">
          <%= f.input :o_tipo_solicitacao_id,
                      collection: OTipoSolicitacao.all,
                      label_method: :descricao,
                      value_method: :id,
                      prompt: "Selecione o tipo de solicitação",
                      label: "Tipo de Solicitação" %>
        </div>
        <div class="col-md-3">
          <%= f.input :o_status_id,collection: OStatus.all,label_method: :descricao,value_method: :id,prompt: "Selecione o status",label: "Status" %>
        </div>
        <div class="col-md-3">
          <%= f.input :valor_total, label: "Valor Total", input_html: { placeholder: "R$ 0,00" } %>
        </div>
        <div class="col-md-3">
          <%= f.input :itens, as: :text, label: "Itens", input_html: { placeholder: '[{"descricao": "peça", "quantidade": 1, "valor_unitario": 0}]' } %>
        </div>
      </div>
    </div>
    <div class="card-footer d-flex justify-content-between">
      <%= btn_submit(f) %>
      <%= link_to "Voltar", o_orcamentos_path, class: "btn btn-light" %>
    </div>
  </div>
<% end %>
